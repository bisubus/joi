!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.joi=t():e.joi=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(12),s={alternatives:r(28),array:r(31),"boolean":r(27),binary:r(32),date:r(16),number:r(26),object:r(29),string:r(18)};s.root=function(){var e=new n,t=e.clone();return t.any=function(){return e},t.alternatives=t.alt=function(){return arguments.length?s.alternatives["try"].apply(s.alternatives,arguments):s.alternatives},t.array=function(){return s.array},t["boolean"]=t.bool=function(){return s["boolean"]},t.binary=function(){return s.binary},t.date=function(){return s.date},t.func=function(){return s.object._func()},t.number=function(){return s.number},t.object=function(){return arguments.length?s.object.keys.apply(s.object,arguments):s.object},t.string=function(){return s.string},t.ref=function(){return a.create.apply(null,arguments)},t.isRef=function(e){return a.isRef(e)},t.validate=function(r){var n=arguments[arguments.length-1],i="function"==typeof n?n:null,a=arguments.length-(i?1:0);if(1===a)return e.validate(r,i);var s=3===a?arguments[2]:{},o=t.compile(arguments[1]);return o._validateWithOptions(r,s,i)},t.describe=function(){var r=arguments.length?t.compile(arguments[0]):e;return r.describe()},t.compile=function(e){try{return i.schema(e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}},t.assert=function(e,r,n){t.attempt(e,r,n)},t.attempt=function(e,r,n){var i=t.validate(e,r),a=i.error;if(a){if(!n)throw a.message=a.annotate(),a;if(!(n instanceof Error))throw a.message=n+" "+a.annotate(),a;throw n}return i.value},t},e.exports=s.root()},function(e,t,r){(function(t){"use strict";var n=r(6),i=r(12),a=r(13),s=null,o=null,c={};c.defaults={abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",raw:!1,strip:!1,noDefaults:!1},c.checkOptions=function(e){for(var t={abortEarly:"boolean",convert:"boolean",allowUnknown:"boolean",skipFunctions:"boolean",stripUnknown:"boolean",language:"object",presence:["string","required","optional","forbidden","ignore"],raw:"boolean",context:"object",strip:"boolean",noDefaults:"boolean"},r=Object.keys(e),i=0;i<r.length;++i){var a=r[i],s=t[a],o=s,c=null;Array.isArray(s)&&(o=s[0],c=s.slice(1)),n.assert(o,"unknown key "+a),n.assert(typeof e[a]===o,a+" should be of type "+o),c&&n.assert(c.indexOf(e[a])>=0,a+" should be one of "+c.join(", "))}},e.exports=c.Any=function(){o=o||r(15),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new c.Set,this._invalids=new c.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}},c.Any.prototype.isImmutable=!0,c.Any.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._type=this._type,e._settings=c.concatSettings(this._settings),e._valids=n.clone(this._valids),e._invalids=n.clone(this._invalids),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),r=0;r<t.length;++r){var i=t[r];e._inner[i]=this._inner[i]?this._inner[i].slice():null}return e},c.Any.prototype.concat=function(e){n.assert(e&&e.isJoi,"Invalid schema object"),n.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var r=e.clone(),i=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],a=0;a<i.length;++a)r[i[a]]=t[i[a]];t=r}t._settings=t._settings?c.concatSettings(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),n.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var s=Object.keys(e._inner),o="object"===t._type,a=0;a<s.length;++a){var u=s[a],l=e._inner[u];if(l){var f=t._inner[u];if(f)if(o&&"children"===u){for(var h={},p=0;p<f.length;++p)h[f[p].key]=p;for(var p=0;p<l.length;++p){var d=l[p].key;h[d]>=0?f[h[d]]={key:d,schema:f[h[d]].schema.concat(l[p].schema)}:f.push(l[p])}}else t._inner[u]=t._inner[u].concat(l);else t._inner[u]=l.slice()}}return t},c.Any.prototype._test=function(e,t,r){n.assert(!this._flags.allowOnly,"Cannot define rules when valid values specified");var i=this.clone();return i._tests.push({func:r,name:e,arg:t}),i},c.Any.prototype.options=function(e){n.assert(!e.context,"Cannot override context"),c.checkOptions(e);var t=this.clone();return t._settings=c.concatSettings(t._settings,e),t},c.Any.prototype.strict=function(e){var t=this.clone();return t._settings=t._settings||{},t._settings.convert=void 0===e?!1:!e,t},c.Any.prototype.raw=function(e){var t=this.clone();return t._settings=t._settings||{},t._settings.raw=void 0===e?!0:e,t},c.Any.prototype._allow=function(){for(var e=n.flatten(Array.prototype.slice.call(arguments)),t=0;t<e.length;++t){var r=e[t];n.assert(void 0!==r,"Cannot call allow/valid/invalid with undefined"),this._invalids.remove(r),this._valids.add(r,this._refs)}},c.Any.prototype.allow=function(){var e=this.clone();return e._allow.apply(e,arguments),e},c.Any.prototype.valid=c.Any.prototype.only=c.Any.prototype.equal=function(){n.assert(!this._tests.length,"Cannot set valid values when rules specified");var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},c.Any.prototype.invalid=c.Any.prototype.disallow=c.Any.prototype.not=function(e){for(var t=this.clone(),r=n.flatten(Array.prototype.slice.call(arguments)),i=0;i<r.length;++i)e=r[i],n.assert(void 0!==e,"Cannot call allow/valid/invalid with undefined"),t._valids.remove(e),t._invalids.add(e,this._refs);return t},c.Any.prototype.required=c.Any.prototype.exist=function(){var e=this.clone();return e._flags.presence="required",e},c.Any.prototype.optional=function(){var e=this.clone();return e._flags.presence="optional",e},c.Any.prototype.forbidden=function(){var e=this.clone();return e._flags.presence="forbidden",e},c.Any.prototype.strip=function(){var e=this.clone();return e._flags.strip=!0,e},c.Any.prototype.applyFunctionToChildren=function(e,t,r,n){if(e=[].concat(e),1!==e.length||""!==e[0]){n=n?n+".":"";var i=(""===e[0]?e.slice(1):e).map(function(e){return n+e});throw new Error("unknown key(s) "+i.join(", "))}return this[t].apply(this,r)},c.Any.prototype["default"]=function(e,t){"function"!=typeof e||i.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||n.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var r=this.clone();return r._flags["default"]=e,i.push(r._refs,e),r},c.Any.prototype.empty=function(e){if(void 0===e){var t=this.clone();return t._flags.empty=void 0,t}e=o.schema(e);var r=this.clone();return r._flags.empty=e,r},c.Any.prototype.when=function(e,t){n.assert(t&&"object"==typeof t,"Invalid options"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var i=t.then?this.concat(o.schema(t.then)):this,a=t.otherwise?this.concat(o.schema(t.otherwise)):this;s=s||r(28);var c=s.when(e,{is:t.is,then:i,otherwise:a});return c._flags.presence="ignore",c},c.Any.prototype.description=function(e){n.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},c.Any.prototype.notes=function(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},c.Any.prototype.tags=function(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},c.Any.prototype.meta=function(e){n.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},c.Any.prototype.example=function(e){n.assert(arguments.length,"Missing example");var t=this._validate(e,null,c.defaults);n.assert(!t.errors,"Bad example:",t.errors&&a.process(t.errors,e));var r=this.clone();return r._examples=r._examples.concat(e),r},c.Any.prototype.unit=function(e){n.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},c._try=function(e,t){var r=void 0,n=void 0;try{n=e.call(null,t)}catch(i){r=i}return{value:n,error:r}},c.Any.prototype._validate=function(e,t,r,s){var o=this,u=e;t=t||{key:"",path:"",parent:null,reference:s},this._settings&&(r=c.concatSettings(r,this._settings));var l=[],f=function(){var s=void 0;if(!o._flags.strip)if(void 0!==e)s=r.raw?u:e;else if(r.noDefaults)s=u;else if(i.isRef(o._flags["default"]))s=o._flags["default"](t.parent,r);else if("function"!=typeof o._flags["default"]||o._flags.func&&!o._flags["default"].description)s=n.clone(o._flags["default"]);else{var f=void 0;null!==t.parent&&o._flags["default"].length>0&&(f=n.clone(t.parent));var h=c._try(o._flags["default"],f);s=h.value,h.error&&l.push(a.create("any.default",h.error,t,r))}return{value:s,errors:l.length?l:null}},h=this._flags.presence||r.presence;if("optional"===h){if(void 0===e){var p=this._flags.hasOwnProperty("default")&&void 0===this._flags["default"];if(!p||"object"!==this._type)return f();e={}}}else{if("required"===h&&void 0===e)return l.push(a.create("any.required",null,t,r)),f();if("forbidden"===h)return void 0===e?f():(l.push(a.create("any.unknown",null,t,r)),f())}if(this._flags.empty&&!this._flags.empty._validate(e,null,c.defaults).errors)return e=void 0,f();if(this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(l.push(a.create(""===e?"any.empty":"any.invalid",null,t,r)),r.abortEarly||void 0===e))return f();if(this._base){var d=this._base.call(this,e,t,r);if(d.errors)return e=d.value,l=l.concat(d.errors),f();if(d.value!==e){if(e=d.value,this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(l.push(a.create("any.invalid",null,t,r)),r.abortEarly))return f()}}if(this._flags.allowOnly&&(l.push(a.create("any.allowOnly",{valids:this._valids.values({stripUndefined:!0})},t,r)),r.abortEarly))return f();for(var g=0;g<this._tests.length;++g){var v=this._tests[g],y=v.func.call(this,e,t,r);if(y&&(l.push(y),r.abortEarly))return f()}return f()},c.Any.prototype._validateWithOptions=function(e,t,r){t&&c.checkOptions(t);var n=c.concatSettings(c.defaults,t),i=this._validate(e,null,n),s=a.process(i.errors,e);return r?r(s,i.value):{error:s,value:i.value}},c.Any.prototype.validate=function(e,t){var r=this._validate(e,null,c.defaults),n=a.process(r.errors,e);return t?t(n,r.value):{error:n,value:r.value}},c.Any.prototype.describe=function(){var e={type:this._type},t=Object.keys(this._flags);if(t.length)if(this._flags.empty){e.flags={};for(var r=0;r<t.length;++r){var i=t[r];e.flags[i]="empty"===i?this._flags[i].describe():this._flags[i]}}else e.flags=this._flags;this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var a=this._valids.values();a.length&&(e.valids=a);var s=this._invalids.values();s.length&&(e.invalids=s),e.rules=[];for(var r=0;r<this._tests.length;++r){var o=this._tests[r],c={name:o.name};void 0!==o.arg&&(c.arg=o.arg),e.rules.push(c)}e.rules.length||delete e.rules;var u=n.reach(this._settings,"language.label");return u&&(e.label=u),e},c.Any.prototype.label=function(e){n.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone(),r={language:{label:e}};return t._settings=c.concatSettings(r,t._settings),t},c.Set=function(){this._set=[]},c.Set.prototype.add=function(e,r){n.assert(null===e||void 0===e||e instanceof Date||t.isBuffer(e)||i.isRef(e)||"function"!=typeof e&&"object"!=typeof e,"Value cannot be an object or function"),"function"!=typeof e&&this.has(e,null,null,!1)||(i.push(r,e),this._set.push(e))},c.Set.prototype.merge=function(e,t){for(var r=0;r<e._set.length;++r)this.add(e._set[r]);for(var r=0;r<t._set.length;++r)this.remove(t._set[r])},c.Set.prototype.remove=function(e){this._set=this._set.filter(function(t){return e!==t})},c.Set.prototype.has=function(e,r,n,a){for(var s=0;s<this._set.length;++s){var o=this._set[s];i.isRef(o)&&(o=o(r.reference||r.parent,n)),Array.isArray(o)||(o=[o]);for(var c=0;c<o.length;++c){var u=o[c];if(typeof e==typeof u&&(e===u||e instanceof Date&&u instanceof Date&&e.getTime()===u.getTime()||a&&"string"==typeof e&&e.toLowerCase()===u.toLowerCase()||t.isBuffer(e)&&t.isBuffer(u)&&e.length===u.length&&e.toString("binary")===u.toString("binary")))return!0}}return!1},c.Set.prototype.values=function(e){if(e&&e.stripUndefined){for(var t=[],r=0;r<this._set.length;++r){var n=this._set[r];void 0!==n&&t.push(n)}return t}return this._set.slice()},c.concatSettings=function(e,t){if(!e&&!t)return null;var r={};if(e)for(var i=Object.keys(e),a=0;a<i.length;++a){var s=i[a];r[s]=e[s]}if(t)for(var o=Object.keys(t),a=0;a<o.length;++a){var s=o[a];"language"===s&&r.hasOwnProperty(s)?r[s]=n.applyToDefaults(r[s],t[s]):r[s]=t[s]}return r}}).call(t,r(2).Buffer)},function(e,t,r){(function(e,n){function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?s(this,t):"string"==typeof t?o(this,t,arguments.length>1?arguments[1]:"utf8"):c(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function s(t,r){if(t=g(t,0>r?0:0|v(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;r>n;n++)t[n]=0;return t}function o(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|m(t,r);return e=g(e,n),e.write(t,r),e}function c(t,r){if(e.isBuffer(r))return u(t,r);if(H(r))return l(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return f(t,r);if(r instanceof ArrayBuffer)return h(t,r)}return r.length?p(t,r):d(t,r)}function u(e,t){var r=0|v(t.length);return e=g(e,r),t.copy(e,0,0,r),e}function l(e,t){var r=0|v(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r=0|v(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(t,r){return e.TYPED_ARRAY_SUPPORT?(r.byteLength,t=e._augment(new Uint8Array(r))):t=f(t,new Uint8Array(r)),t}function p(e,t){var r=0|v(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function d(e,t){var r,n=0;"Buffer"===t.type&&H(t.data)&&(r=t.data,n=0|v(r.length)),e=g(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function g(t,r){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(r)),t.__proto__=e.prototype):(t.length=r,t._isBuffer=!0);var n=0!==r&&r<=e.poolSize>>>1;return n&&(t.parent=V),t}function v(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function y(t,r){if(!(this instanceof y))return new y(t,r);var n=new e(t,r);return delete n.parent,n}function m(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return M(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return O(this,t,r);case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;n>s;s++){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[r+s]=o}return s}function w(e,t,r,n){return z(M(t,e.length-r),e,r,n)}function A(e,t,r,n){return z(Y(t),e,r,n)}function x(e,t,r,n){return A(e,t,r,n)}function E(e,t,r,n){return z(X(t),e,r,n)}function k(e,t,r,n){return z(Q(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var a=e[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(r>=i+o){var c,u,l,f;switch(o){case 1:128>a&&(s=a);break;case 2:c=e[i+1],128===(192&c)&&(f=(31&a)<<6|63&c,f>127&&(s=f));break;case 3:c=e[i+1],u=e[i+2],128===(192&c)&&128===(192&u)&&(f=(15&a)<<12|(63&c)<<6|63&u,f>2047&&(55296>f||f>57343)&&(s=f));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128===(192&c)&&128===(192&u)&&128===(192&l)&&(f=(15&a)<<18|(63&c)<<12|(63&u)<<6|63&l,f>65535&&1114112>f&&(s=f))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return I(n)}function I(e){var t=e.length;if(G>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=G));return r}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",a=t;r>a;a++)i+=$(e[a]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function C(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,r,n,i,a,s){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>a||s>r)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function B(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);a>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);a>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,a){if(t>i||a>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function F(e,t,r,n,i){return i||U(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||U(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,r,n,52,8),r+8}function q(e){if(e=W(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return 16>e?"0"+e.toString(16):e.toString(16)}function M(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],s=0;n>s;s++){if(r=e.charCodeAt(s),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;a.push(r)}else if(2048>r){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function Q(e,t){for(var r,n,i,a=[],s=0;s<e.length&&!((t-=2)<0);s++)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function X(e){return J.toByteArray(q(e))}function z(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var J=r(3),Z=r(4),H=r(5);t.Buffer=e,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var V={};e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,a=0,s=Math.min(n,i);s>a&&t[a]===r[a];)++a;return a!==s&&(n=t[a],i=r[a]),i>n?-1:n>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!H(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;n++)r+=t[n].length;var i=new e(r),a=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,a),a+=s.length}return i},e.byteLength=m,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,r){function n(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(e.isBuffer(t))return n(this,t,r);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):n(this,[t],r);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return this.readUInt8(e)},e.prototype.set=function(e,t){return this.writeUInt8(e,t)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return A(this,e,t,r);case"binary":return x(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var G=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),t>r&&(r=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,r));else{var a=r-t;i=new e(a,void 0);for(var s=0;a>s;s++)i[s]=this[s+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||C(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},e.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||C(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},e.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||C(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||C(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),Z.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),Z.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),Z.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),Z.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||P(this,e,t,r,Math.pow(2,8*r),0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||P(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):B(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):B(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):L(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):L(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=0,s=1,o=0>e?1:0;for(this[t]=255&e;++a<r&&(s*=256);)this[t+a]=(e/s>>0)-o&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=r-1,s=1,o=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(s*=256);)this[t+a]=(e/s>>0)-o&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):B(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):B(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):L(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):L(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var a,s=i-n;if(this===t&&r>n&&i>r)for(a=s-1;a>=0;a--)t[a+r]=this[a+n];else if(1e3>s||!e.TYPED_ARRAY_SUPPORT)for(a=0;s>a;a++)t[a+r]=this[a+n];else t._set(this.subarray(n,n+s),r);return s},e.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=M(e.toString()),a=i.length;for(n=t;r>n;n++)this[n]=i[n%a]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),r=0,n=t.length;n>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var K=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=K.get,t.set=K.set,t.write=K.write,t.toString=K.toString,t.toLocaleString=K.toString,t.toJSON=K.toJSON,t.equals=K.equals,t.compare=K.compare,t.indexOf=K.indexOf,t.copy=K.copy,t.slice=K.slice,t.readUIntLE=K.readUIntLE,t.readUIntBE=K.readUIntBE,t.readUInt8=K.readUInt8,t.readUInt16LE=K.readUInt16LE,t.readUInt16BE=K.readUInt16BE,t.readUInt32LE=K.readUInt32LE,t.readUInt32BE=K.readUInt32BE,t.readIntLE=K.readIntLE,t.readIntBE=K.readIntBE,t.readInt8=K.readInt8,t.readInt16LE=K.readInt16LE,t.readInt16BE=K.readInt16BE,t.readInt32LE=K.readInt32LE,t.readInt32BE=K.readInt32BE,t.readFloatLE=K.readFloatLE,t.readFloatBE=K.readFloatBE,t.readDoubleLE=K.readDoubleLE,t.readDoubleBE=K.readDoubleBE,t.writeUInt8=K.writeUInt8,t.writeUIntLE=K.writeUIntLE,t.writeUIntBE=K.writeUIntBE,t.writeUInt16LE=K.writeUInt16LE,t.writeUInt16BE=K.writeUInt16BE,t.writeUInt32LE=K.writeUInt32LE,t.writeUInt32BE=K.writeUInt32BE,t.writeIntLE=K.writeIntLE,
t.writeIntBE=K.writeIntBE,t.writeInt8=K.writeInt8,t.writeInt16LE=K.writeInt16LE,t.writeInt16BE=K.writeInt16BE,t.writeInt32LE=K.writeInt32LE,t.writeInt32BE=K.writeInt32BE,t.writeFloatLE=K.writeFloatLE,t.writeFloatBE=K.writeFloatBE,t.writeDoubleLE=K.writeDoubleLE,t.writeDoubleBE=K.writeDoubleBE,t.fill=K.fill,t.inspect=K.inspect,t.toArrayBuffer=K.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(2).Buffer,function(){return this}())},function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===f?62:t===o||t===h?63:c>t?-1:c+10>t?t-c+26+26:l+26>t?t-l:u+26>t?t-u+26:void 0}function r(e){function r(e){u[f++]=e}var n,i,s,o,c,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;c="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,u=new a(3*e.length/4-c),s=c>0?e.length-4:e.length;var f=0;for(n=0,i=0;s>n;n+=4,i+=3)o=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&o)>>16),r((65280&o)>>8),r(255&o);return 2===c?(o=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&o)):1===c&&(o=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(o>>8&255),r(255&o)),u}function i(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,a,s,o=e.length%3,c="";for(i=0,s=e.length-o;s>i;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],c+=r(a);switch(o){case 1:a=e[e.length-1],c+=t(a>>2),c+=t(a<<4&63),c+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1],c+=t(a>>10),c+=t(a>>4&63),c+=t(a<<2&63),c+="="}return c}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}(t)},function(e,t){t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,c=(1<<o)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,a=p&(1<<-l)-1,p>>=-l,l+=o;l>0;a=256*a+e[t+f],f+=h,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),a-=u}return(p?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,c,u=8*a-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+f>=1?h/c:h*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=l?(o=0,s=l):s+f>=1?(o=(t*c-1)*Math.pow(2,i),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*g}},function(e,t){var r=Array.isArray,n=Object.prototype.toString;e.exports=r||function(e){return!!e&&"[object Array]"==n.call(e)}},function(e,t,r){(function(e){"use strict";var n=r(7),i=r(8),a=r(9),s=r(11),o={};t.clone=function(r,n){if("object"!=typeof r||null===r)return r;n=n||{orig:[],copy:[]};var i=n.orig.indexOf(r);if(-1!==i)return n.copy[i];var a=void 0,s=!1;if(Array.isArray(r))a=[],s=!0;else if(e.isBuffer(r))a=new e(r);else if(r instanceof Date)a=new Date(r.getTime());else if(r instanceof RegExp)a=new RegExp(r);else{var o=Object.getPrototypeOf(r);o&&o.isImmutable?a=r:(a=Object.create(o),s=!0)}if(n.orig.push(r),n.copy.push(a),s)for(var c=Object.getOwnPropertyNames(r),u=0;u<c.length;++u){var l=c[u],f=Object.getOwnPropertyDescriptor(r,l);f&&(f.get||f.set)?Object.defineProperty(a,l,f):a[l]=t.clone(r[l],n)}return a},t.merge=function(r,n,i,a){if(t.assert(r&&"object"==typeof r,"Invalid target value: must be an object"),t.assert(null===n||void 0===n||"object"==typeof n,"Invalid source value: must be null, undefined, or an object"),!n)return r;if(Array.isArray(n)){t.assert(Array.isArray(r),"Cannot merge array onto an object"),a===!1&&(r.length=0);for(var s=0;s<n.length;++s)r.push(t.clone(n[s]));return r}for(var o=Object.keys(n),s=0;s<o.length;++s){var c=o[s],u=n[c];u&&"object"==typeof u?!r[c]||"object"!=typeof r[c]||Array.isArray(r[c])^Array.isArray(u)||u instanceof Date||e.isBuffer(u)||u instanceof RegExp?r[c]=t.clone(u):t.merge(r[c],u,i,a):null!==u&&void 0!==u?r[c]=u:i!==!1&&(r[c]=u)}return r},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||r===!0||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;var i=t.clone(e);return r===!0?i:t.merge(i,r,n===!0,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!=typeof e)return e;var n=o.store(e,r),i=t.clone(e);return o.restore(i,e,n),i},o.store=function(e,r){for(var n={},i=0;i<r.length;++i){var a=r[i],s=t.reach(e,a);void 0!==s&&(n[a]=s,o.reachSet(e,a,void 0))}return n},o.restore=function(e,t,r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];o.reachSet(e,a,r[a]),o.reachSet(t,a,r[a])}},o.reachSet=function(e,t,r){for(var n=t.split("."),i=e,a=0;a<n.length;++a){var s=n[a];a+1===n.length&&(i[s]=r),i=i[s]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||r===!0||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var i=t.cloneWithShallow(e,n);if(r===!0)return i;var a=o.store(r,n);return t.merge(i,r,!1,!1),o.restore(i,r,a),i},t.deepEqual=function(r,n,i,a){i=i||{prototype:!0};var s=typeof r;if(s!==typeof n)return!1;if("object"!==s||null===r||null===n)return r===n?0!==r||1/r===1/n:r!==r&&n!==n;if(a=a||[],-1!==a.indexOf(r))return!0;if(a.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!i.part&&r.length!==n.length)return!1;for(var o=0;o<r.length;++o){if(i.part){for(var c=!1,u=0;u<n.length;++u)if(t.deepEqual(r[o],n[u],i)){c=!0;break}return c}if(!t.deepEqual(r[o],n[o],i))return!1}return!0}if(e.isBuffer(r)){if(!e.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var o=0;o<r.length;++o)if(r[o]!==n[o])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(i.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var l=Object.getOwnPropertyNames(r);if(!i.part&&l.length!==Object.getOwnPropertyNames(n).length)return!1;for(var o=0;o<l.length;++o){var f=l[o],h=Object.getOwnPropertyDescriptor(r,f);if(h.get){if(!t.deepEqual(h,Object.getOwnPropertyDescriptor(n,f),i,a))return!1}else if(!t.deepEqual(r[f],n[f],i,a))return!1}return!0},t.unique=function(e,t){for(var r={},n=[],i=0;i<e.length;++i){var a=t?e[i][t]:e[i];r[a]!==!0&&(n.push(e[i]),r[a]=!0)}return n},t.mapToObject=function(e,t){if(!e)return null;for(var r={},n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];for(var i=[],a=Array.isArray(e)?t.mapToObject(e):e,s={},o=0;o<r.length;++o)if(a[r[o]]&&!s[r[o]]){if(n)return r[o];i.push(r[o]),s[r[o]]=!0}return n?null:i},t.contain=function(e,r,n){var i=null;"object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},t.assert(arguments.length>=2,"Insufficient arguments"),t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty");var a=void 0,s=void 0;if(n.deep){a=t.deepEqual;var o=n.hasOwnProperty("only"),c=n.hasOwnProperty("part");s={prototype:o?n.only:c?!n.part:!1,part:o?!n.only:c?n.part:!0}}else a=function(e,t){return e===t};for(var u=!1,l=new Array(r.length),f=0;f<l.length;++f)l[f]=0;if("string"==typeof e){for(var h="(",f=0;f<r.length;++f){var p=r[f];t.assert("string"==typeof p,"Cannot compare string reference to non-string value"),h+=(f?"|":"")+t.escapeRegex(p)}var d=new RegExp(h+")","g"),g=e.replace(d,function(e,t){var n=r.indexOf(t);return++l[n],""});u=!!g}else if(Array.isArray(e))for(var f=0;f<e.length;++f){for(var v=!1,y=0;y<r.length&&v===!1;++y)v=a(r[y],e[f],s)&&y;v!==!1?++l[v]:u=!0}else for(var m=Object.keys(e),f=0;f<m.length;++f){var b=m[f],_=r.indexOf(b);if(-1!==_){if(i&&!a(i[b],e[b],s))return!1;++l[_]}else u=!0}for(var w=!1,f=0;f<l.length;++f)if(w=w||!!l[f],n.once&&l[f]>1||!n.part&&!l[f])return!1;return n.only&&u?!1:w},t.flatten=function(e,r){for(var n=r||[],i=0;i<e.length;++i)Array.isArray(e[i])?t.flatten(e[i],n):n.push(e[i]);return n},t.reach=function(e,r,n){if(r===!1||null===r||"undefined"==typeof r)return e;n=n||{},"string"==typeof n&&(n={separator:n});for(var i=r.split(n.separator||"."),a=e,s=0;s<i.length;++s){var o=i[s];if("-"===o[0]&&Array.isArray(a)&&(o=o.slice(1,o.length),o=a.length-o),!a||"object"!=typeof a&&"function"!=typeof a||!(o in a)||"object"!=typeof a&&n.functions===!1){t.assert(!n.strict||s+1===i.length,"Missing segment",o,"in reach path ",r),t.assert("object"==typeof a||n.functions===!0||"function"!=typeof a,"Invalid segment",o,"in reach path ",r),a=n["default"];break}a=a[o]}return a},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,function(r,i){var a=t.reach(e,i,n);return void 0===a||null===a?"":a})},t.formatStack=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return t},t.callStack=function(e){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n={};Error.captureStackTrace(n,this);var i=n.stack;Error.prepareStackTrace=r;var a=t.formatStack(i);return a.slice(1+e)},t.displayStack=function(e){var r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if("test"===process.env.NODE_ENV||t.abortThrow===!0)throw new Error(e||"Unknown error");var n="";r||(n=t.displayStack(1).join("\n	")),process.exit(1)},t.assert=function(e){if(!e){if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];for(var r=[],n=1;n<arguments.length;++n)""!==arguments[n]&&r.push(arguments[n]);throw r=r.map(function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}),new Error(r.join(" ")||"Unknown error")}},t.Timer=function(){this.ts=0,this.reset()},t.Timer.prototype.reset=function(){this.ts=Date.now()},t.Timer.prototype.elapsed=function(){return Date.now()-this.ts},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(t,r){var n=e.isBuffer(t)?t:new e(t,r||"binary");return n.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,r){if(t&&!/^[\w\-]*$/.test(t))return new Error("Invalid character");try{var n=new e(t,"base64");return"buffer"===r?n:n.toString(r||"binary")}catch(i){return i}},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return s.escapeHtml(e)},t.escapeJavaScript=function(e){return s.escapeJavaScript(e)},t.nextTick=function(e){return function(){var t=arguments;process.nextTick(function(){e.apply(null,t)})}},t.once=function(e){if(e._hoekOnce)return e;var t=!1,r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},t.isAbsolutePath=function(e,t){return e?i.isAbsolute?i.isAbsolute(e):(t=t||process.platform,"win32"!==t?"/"===e[0]:!!/^(?:[a-zA-Z]:[\\\/])|(?:[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/])/.test(e)):!1},t.isInteger=function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},t.ignore=function(){},t.inherits=a.inherits,t.format=a.format,t.transform=function(e,r,n){if(t.assert(null===e||void 0===e||"object"==typeof e||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array"),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)i.push(t.transform(e[a],r,n));return i}for(var s={},o=Object.keys(r),a=0;a<o.length;++a){var c=o[a],u=c.split("."),l=r[c];t.assert("string"==typeof l,'All mappings must be "." delineated strings');for(var f=void 0,h=s;u.length>1;)f=u.shift(),h[f]||(h[f]={}),h=h[f];f=u.shift(),h[f]=t.reach(e,l,n)}return s},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=i.resolve(e);var r=[Date.now(),process.pid,n.randomBytes(8).toString("hex")].join("-")+t;return i.join(e,r)},t.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];t[i]=e[i]}return t}}).call(t,r(2).Buffer)},function(e,t){"use strict";e.exports={}},function(e,t){"use strict";function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var a=i>=0?arguments[i]:process.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,t="/"===a.charAt(0))}return e=r(n(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===s(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),a=n(r.split("/")),s=Math.min(i.length,a.length),o=s,c=0;s>c;c++)if(i[c]!==a[c]){o=c;break}for(var u=[],c=o;c<i.length;c++)u.push("..");return u=u.concat(a.slice(o)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return a(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return 0>t&&(t=e.length+t),e.substr(t,r)}},function(e,t,r){"use strict";e.exports={inherits:r(10)}},function(e,t){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(e){"use strict";var r={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t+=r.isSafe(i)?e[n]:r.escapeJavaScriptChar(i)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t+=r.isSafe(i)?e[n]:r.escapeHtmlChar(i)}return t},r.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+r.padLeft(""+t,4);var n=new e(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+r.padLeft(n,2)},r.escapeHtmlChar=function(t){var n=r.namedHtml[t];if("undefined"!=typeof n)return n;if(t>=256)return"&#"+t+";";var i=new e(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+r.padLeft(i,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return"undefined"!=typeof r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var e={},t=32;123>t;++t)(t>=97||t>=65&&90>=t||t>=48&&57>=t||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,r(2).Buffer)},function(e,t,r){"use strict";var n=r(6);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);var r=n.clone(t),i=function a(e,t){return n.reach(a.isContext?t.context:e,a.key,r)};return i.isContext=e[0]===(r&&r.contextPrefix||"$"),i.key=i.isContext?e.slice(1):e,i.path=i.key.split(r&&r.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,r){t.isRef(r)&&!r.isContext&&e.push(r.root)}},function(e,t,r){"use strict";var n=r(6),i=r(14),a={};a.stringify=function(e,t){var r=typeof e;if(null===e)return"null";if("string"===r)return e;if(e instanceof a.Err||"function"===r)return e.toString();if("object"===r){if(Array.isArray(e)){for(var n="",i=0;i<e.length;++i)n=n+(n.length?", ":"")+a.stringify(e[i],t);return t?"["+n+"]":n}return e.toString()}return JSON.stringify(e)},a.Err=function(e,t,r,n){this.type=e,this.context=t||{},this.context.key=r.key,this.path=r.path,this.options=n},a.Err.prototype.toString=function(){var e=this,t=this.options.language;t.label?this.context.key=t.label:(""===this.context.key||null===this.context.key)&&(this.context.key=t.root||i.errors.root);var r=n.reach(t,this.type)||n.reach(i.errors,this.type),s=/\{\{\!?key\}\}/.test(r),o=r.length>2&&"!"===r[0]&&"!"===r[1];o&&(r=r.slice(2)),s||o||(r=(n.reach(t,"key")||n.reach(i.errors,"key"))+r);var c=n.reach(t,"messages.wrapArrays");"boolean"!=typeof c&&(c=i.errors.messages.wrapArrays);var u=r.replace(/\{\{(\!?)([^}]+)\}\}/g,function(t,r,i){var s=n.reach(e.context,i),o=a.stringify(s,c);return r?n.escapeHtml(o):o});return u},t.create=function(e,t,r,n){return new a.Err(e,t,r,n)},t.process=function(e,t){if(!e||!e.length)return null;var r="",n=[],i=function o(e,t){for(var i=0;i<e.length;++i){var s=e[i],c={message:s.toString(),path:a.getPath(s),type:s.type,context:s.context};t||(r=r+(r?". ":"")+c.message),s.context.reason&&s.context.reason.length?o(s.context.reason,s.path):n.push(c)}};i(e);var s=new Error(r);return s.name="ValidationError",s.details=n,s._object=t,s.annotate=a.annotate,s},a.getPath=function(e){var t=function(e){for(var t=!0;t;){var r=e;t=!1;var i=n.reach(r,"context.reason.0");{if(!i||!i.context)return r.path;e=i,t=!0,i=void 0}}};return t(e)||e.context.key},a.safeStringify=function(e,t){return JSON.stringify(e,a.serializer(),t)},a.serializer=function(){var e=[],t=[],r=function(r,n){return t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]"};return function(n,i){if(t.length>0){var a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=n):(t.push(this),e.push(n)),~t.indexOf(i)&&(i=r.call(this,n,i))}else t.push(i);if(Array.isArray(i)&&i.placeholders){for(var s=i.placeholders,o=[],c=0;c<i.length;++c)s[c]&&o.push(s[c]),o.push(i[c]);i=o}return i}},a.annotate=function(){if("object"!=typeof this._object)return this.details[0].message;for(var e=n.clone(this._object||{}),t={},r=this.details.length-1;r>=0;--r)for(var i=this.details.length-r,s=this.details[r],o=s.path.split("."),c=e,u=0;u<o.length&&c;++u){var l=o[u];if(u+1<o.length)c=c[l];else{var f=c[l];if(Array.isArray(c)){var h="_$idx$_"+(r+1)+"_$end$_";c.placeholders||(c.placeholders={}),c.placeholders[l]?c.placeholders[l]=c.placeholders[l].replace("_$end$_",", "+(r+1)+"_$end$_"):c.placeholders[l]=h}else if(void 0!==f){delete c[l];var p=l+"_$key$_"+i+"_$end$_";c[p]=f,t[s.path]=p}else if(t[s.path]){var d=t[s.path],g=d.replace("_$end$_",", "+i+"_$end$_");c[g]=c[d],t[s.path]=g,delete c[d]}else c["_$miss$_"+l+"|"+i+"_$end$_"]="__missing__"}}var v=a.safeStringify(e,2).replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,function(e,t){return'" [31m['+t+"][0m"}).replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,function(e,t,r){return'[41m"'+t+'"[0m[31m ['+r+"]: -- missing --[0m"}).replace(/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,function(e,t,r){return"\n"+r+" [31m["+t+"][0m"});v+="\n[31m";for(var r=0;r<this.details.length;++r)v=v+"\n["+(r+1)+"] "+this.details[r].message;return v+="[0m"}},function(e,t){"use strict";t.errors={root:"value",key:'"{{!key}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}","default":"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives"},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!key}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!key}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!key}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},"boolean":{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',isoDate:"must be a valid ISO 8601 date",ref:'references "{{ref}}" which is not a date'},"function":{base:"must be a Function"},object:{base:"must be an object",child:'child "{{!key}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:"is not allowed","with":'missing required peer "{{peer}}"',without:'conflict with forbidden peer "{{peer}}"',missing:"must contain at least one of {{peers}}",xor:"contains a conflict between exclusive peers {{peers}}",or:"must contain at least one of {{peers}}",and:"contains {{present}} without its required peers {{missing}}",nand:'!!"{{main}}" must not exist simultaneously with {{peers}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists'},type:'must be an instance of "{{type}}"'},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}","float":"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern'},email:"must be a valid email",uri:"must be a valid uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hostname:"must be a valid hostname",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,r){"use strict";var n=r(6),i=r(12),a={any:null,date:r(16),string:r(18),number:r(26),"boolean":r(27),alt:null,object:null};t.schema=function(e){return a.any=a.any||new(r(1)),a.alt=a.alt||r(28),a.object=a.object||r(29),e&&"object"==typeof e?e.isJoi?e:Array.isArray(e)?a.alt["try"](e):e instanceof RegExp?a.string.regex(e):e instanceof Date?a.date.valid(e):a.object.keys(e):"string"==typeof e?a.string.valid(e):"number"==typeof e?a.number.valid(e):"boolean"==typeof e?a["boolean"].valid(e):i.isRef(e)?a.any.valid(e):(n.assert(null===e,"Invalid schema content:",e),a.any.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t,r){"use strict";var n=r(1),i=r(13),a=r(12),s=r(6),o=r(17),c={};c.isoDate=/^(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,c.invalidDate=new Date(""),c.isIsoDate=function(){var e=c.isoDate.toString();return function(t){return t&&t.toString()===e}}(),c.Date=function(){n.call(this),this._type="date"},s.inherits(c.Date,n),c.Date.prototype._base=function(e,t,r){var n={value:r.convert&&c.toDate(e,this._flags.format)||e};return n.value instanceof Date&&!isNaN(n.value.getTime())?n.errors=null:n.errors=i.create(c.isIsoDate(this._flags.format)?"date.isoDate":"date.base",null,t,r),n},c.toDate=function(e,t){if(e instanceof Date)return e;if("string"==typeof e||s.isInteger(e)){"string"==typeof e&&/^[+-]?\d+$/.test(e)&&(e=parseInt(e,10));var r=void 0;if(t?c.isIsoDate(t)?r=t.test(e)?new Date(e):c.invalidDate:(r=o(e,t,!0),r=r.isValid()?r.toDate():c.invalidDate):r=new Date(e),!isNaN(r.getTime()))return r}return null},c.compare=function(e,t){return function(r){var n="now"===r,o=a.isRef(r);return n||o||(r=c.toDate(r)),s.assert(r,"Invalid date format"),this._test(e,r,function(a,s,u){var l=void 0;if(n)l=Date.now();else if(o){if(l=c.toDate(r(s.parent,u)),!l)return i.create("date.ref",{ref:r.key},s,u);l=l.getTime()}else l=r.getTime();return t(a.getTime(),l)?null:i.create("date."+e,{limit:new Date(l)},s,u)})}},c.Date.prototype.min=c.compare("min",function(e,t){return e>=t}),c.Date.prototype.max=c.compare("max",function(e,t){return t>=e}),c.Date.prototype.format=function(e){s.assert("string"==typeof e||Array.isArray(e)&&e.every(function(e){return"string"==typeof e}),"Invalid format.");var t=this.clone();return t._flags.format=e,t},c.Date.prototype.iso=function(){var e=this.clone();return e._flags.format=c.isoDate,e},c.Date.prototype._isIsoDate=function(e){return c.isoDate.test(e)},e.exports=new c.Date},function(e,t){"use strict";e.exports=function(){return{isValid:function(){return!1}}}},function(e,t,r){(function(t){"use strict";var n=r(19),i=r(6),a=r(22),s=r(1),o=r(12),c=r(16),u=r(13),l=r(23),f=r(25),h={uriRegex:l.createUriRegex(),ipRegex:f.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional")};h.String=function(){s.call(this),this._type="string",this._invalids.add("")},i.inherits(h.String,s),h.compare=function(e,r){return function(n,a){var s=o.isRef(n);return i.assert(i.isInteger(n)&&n>=0||s,"limit must be a positive integer or reference"),i.assert(!a||t.isEncoding(a),"Invalid encoding:",a),this._test(e,n,function(t,o,c){var l=void 0;if(s){if(l=n(o.parent,c),!i.isInteger(l))return u.create("string.ref",{ref:n.key},o,c)}else l=n;return r(t,l,a)?null:u.create("string."+e,{limit:l,value:t,encoding:a},o,c)})}},h.String.prototype._base=function(e,t,r){if("string"==typeof e&&r.convert&&(this._flags["case"]&&(e="upper"===this._flags["case"]?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements))for(var n=0;n<this._inner.replacements.length;++n){var i=this._inner.replacements[n];e=e.replace(i.pattern,i.replacement)}return{value:e,errors:"string"==typeof e?null:u.create("string.base",{value:e},t,r)}},h.String.prototype.insensitive=function(){var e=this.clone();return e._flags.insensitive=!0,e},h.String.prototype.min=h.compare("min",function(e,r,n){var i=n?t.byteLength(e,n):e.length;return i>=r}),h.String.prototype.max=h.compare("max",function(e,r,n){var i=n?t.byteLength(e,n):e.length;return r>=i}),h.String.prototype.creditCard=function(){return this._test("creditCard",void 0,function(e,t,r){for(var n=e.length,i=0,a=1;n--;){var s=e.charAt(n)*a;i+=s-9*(s>9),a=3^a}var o=i%10===0&&i>0;return o?null:u.create("string.creditCard",{value:e},t,r)})},h.String.prototype.length=h.compare("length",function(e,r,n){var i=n?t.byteLength(e,n):e.length;return i===r}),h.String.prototype.regex=function(e,t){return i.assert(e instanceof RegExp,"pattern must be a RegExp"),e=new RegExp(e.source,e.ignoreCase?"i":void 0),this._test("regex",e,function(r,n,i){return e.test(r)?null:u.create(t?"string.regex.name":"string.regex.base",{name:t,pattern:e,value:r},n,i)})},h.String.prototype.alphanum=function(){return this._test("alphanum",void 0,function(e,t,r){return/^[a-zA-Z0-9]+$/.test(e)?null:u.create("string.alphanum",{value:e},t,r)})},h.String.prototype.token=function(){return this._test("token",void 0,function(e,t,r){return/^\w+$/.test(e)?null:u.create("string.token",{value:e},t,r)})},h.String.prototype.email=function(e){return e&&(i.assert("object"==typeof e,"email options must be an object"),i.assert("undefined"==typeof e.checkDNS,"checkDNS option is not supported"),i.assert("undefined"==typeof e.tldWhitelist||"object"==typeof e.tldWhitelist,"tldWhitelist must be an array or object"),i.assert("undefined"==typeof e.minDomainAtoms||i.isInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),i.assert("undefined"==typeof e.errorLevel||"boolean"==typeof e.errorLevel||i.isInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,function(t,r,n){try{var i=a.validate(t,e);if(i===!0||0===i)return null}catch(s){}return u.create("string.email",{value:t},r,n)})},h.String.prototype.ip=function(e){var t=h.ipRegex;e=e||{},i.assert("object"==typeof e,"options must be an object"),e.cidr?(i.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),i.assert(e.cidr in f.cidrs,"cidr must be one of "+Object.keys(f.cidrs).join(", ")),e.version||"optional"===e.cidr||(t=f.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var r=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),i.assert(e.version.length>=1,"version must have at least 1 version specified"),r=[];for(var n=0;n<e.version.length;++n){var a=e.version[n];i.assert("string"==typeof a,"version at position "+n+" must be a string"),
a=a.toLowerCase(),i.assert(f.versions[a],"version at position "+n+" must be one of "+Object.keys(f.versions).join(", ")),r.push(a)}r=i.unique(r),t=f.createIpRegex(r,e.cidr)}return this._test("ip",e,function(n,i,a){return t.test(n)?null:r?u.create("string.ipVersion",{value:n,cidr:e.cidr,version:r},i,a):u.create("string.ip",{value:n,cidr:e.cidr},i,a)})},h.String.prototype.uri=function(e){var t="",r=h.uriRegex;if(e&&(i.assert("object"==typeof e,"options must be an object"),e.scheme)){i.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),i.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var n=0;n<e.scheme.length;++n){var a=e.scheme[n];i.assert(a instanceof RegExp||"string"==typeof a,"scheme at position "+n+" must be a RegExp or String"),t+=t?"|":"",a instanceof RegExp?t+=a.source:(i.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(a),"scheme at position "+n+" must be a valid scheme"),t+=i.escapeRegex(a))}}return t&&(r=l.createUriRegex(t)),this._test("uri",e,function(e,n,i){return r.test(e)?null:t?u.create("string.uriCustomScheme",{scheme:t,value:e},n,i):u.create("string.uri",{value:e},n,i)})},h.String.prototype.isoDate=function(){return this._test("isoDate",void 0,function(e,t,r){return c._isIsoDate(e)?null:u.create("string.isoDate",{value:e},t,r)})},h.String.prototype.guid=function(){var e=/^[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}$/i,t=/^\{[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}\}$/i;return this._test("guid",void 0,function(r,n,i){return e.test(r)||t.test(r)?null:u.create("string.guid",{value:r},n,i)})},h.String.prototype.hex=function(){var e=/^[a-f0-9]+$/i;return this._test("hex",e,function(t,r,n){return e.test(t)?null:u.create("string.hex",{value:t},r,n)})},h.String.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(t,r,i){return t.length<=255&&e.test(t)||n.isIPv6(t)?null:u.create("string.hostname",{value:t},r,i)})},h.String.prototype.lowercase=function(){var e=this._test("lowercase",void 0,function(e,t,r){return r.convert||e===e.toLocaleLowerCase()?null:u.create("string.lowercase",{value:e},t,r)});return e._flags["case"]="lower",e},h.String.prototype.uppercase=function(){var e=this._test("uppercase",void 0,function(e,t,r){return r.convert||e===e.toLocaleUpperCase()?null:u.create("string.uppercase",{value:e},t,r)});return e._flags["case"]="upper",e},h.String.prototype.trim=function(){var e=this._test("trim",void 0,function(e,t,r){return r.convert||e===e.trim()?null:u.create("string.trim",{value:e},t,r)});return e._flags.trim=!0,e},h.String.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(i.escapeRegex(e),"g")),i.assert(e instanceof RegExp,"pattern must be a RegExp"),i.assert("string"==typeof t,"replacement must be a String");var r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:e,replacement:t}),r},e.exports=new h.String}).call(t,r(2).Buffer)},function(e,t,r){"use strict";e.exports={isIPv6:r(20)}},function(e,t,r){"use strict";e.exports=r(21)},function(e,t){"use strict";function r(e){return!!/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/.test(e)}e.exports=function(e){return r(e)}},function(e,t,r){"use strict";var n=r(7),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,dnsWarnNoMXRecord:5,dnsWarnNoRecord:6,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.defer="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?process.nextTick.bind(process):function(e){return setTimeout(e,0)},i.specials=function(){for(var e='()<>[]:;@\\,."',t=new Array(256),r=255;r>=0;--r)t[r]=!1;for(var r=0;r<e.length;++r)t[e.charCodeAt(r)]=!0;var n="return function (code) {\n  return lookup[code];\n}";return new Function("lookup",n)(t)}(),i.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},i.checkIpV6=function(e){return e.every(function(e){return i.regex.ipV6.test(e)})},i.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===i.indexOf.call(t.tldBlacklist,e):!i.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==i.indexOf.call(t.tldWhitelist,e):i.hasOwn.call(t.tldWhitelist,e)},t.validate=i.validate=function(e,t,r){if(t=t||{},"function"==typeof t&&(r=t,t={}),"function"!=typeof r){if(t.checkDNS)throw new TypeError("expected callback function for checkDNS option");r=null}var a=void 0,s=void 0;if("number"==typeof t.errorLevel?(a=!0,s=t.errorLevel):(a=!!t.errorLevel,s=i.diagnoses.valid),t.tldWhitelist)if("string"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if("object"!=typeof t.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(t.tldBlacklist)if("string"==typeof t.tldBlacklist)t.tldBlacklist=[t.tldBlacklist];else if("object"!=typeof t.tldBlacklist)throw new TypeError("expected array or object tldBlacklist");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");for(var o=i.diagnoses.valid,c=function(e){e>o&&(o=e)},u={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]},l="",f={local:"",domain:""},h={locals:[""],domains:[""]},p=0,d=0,g=0,v=void 0,y=!1,m=!1,b=e.length,_=void 0,w=0;b>w;++w){switch(_=e[w],u.now){case i.components.localpart:switch(_){case"(":0===d?c(0===p?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(c(i.diagnoses.cfwsComment),m=!0),u.stack.push(u.now),u.now=i.components.contextComment;break;case".":0===d?c(0===p?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(m&&c(i.diagnoses.deprecatedLocalPart),m=!1,d=0,++p,f.local+=_,h.locals[p]="");break;case'"':0===d?(c(0===p?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),f.local+=_,h.locals[p]+=_,++d,m=!0,u.stack.push(u.now),u.now=i.components.contextQuotedString):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(b===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"	":0===d?c(0===p?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):m=!0,u.stack.push(u.now),u.now=i.components.contextFWS,l=_;break;case"@":if(1!==u.stack.length)throw new Error("unexpected item on context stack");0===f.local.length?c(i.diagnoses.errNoLocalPart):0===d?c(i.diagnoses.errDotEnd):f.local.length>64?c(i.diagnoses.rfc5322LocalTooLong):(u.prev===i.components.contextComment||u.prev===i.components.contextFWS)&&c(i.diagnoses.deprecatedCFWSNearAt),u.now=i.components.domain,u.stack[0]=i.components.domain,p=0,d=0,m=!1;break;default:if(m)switch(u.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:c(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}else u.prev=u.now,v=_.charCodeAt(0),(33>v||v>126||i.specials(v))&&c(i.diagnoses.errExpectingATEXT),f.local+=_,h.locals[p]+=_,++d}break;case i.components.domain:switch(_){case"(":0===d?c(0===p?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(m=!0,c(i.diagnoses.cfwsComment)),u.stack.push(u.now),u.now=i.components.contextComment;break;case".":0===d?c(0===p?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):y?c(i.diagnoses.errDomainHyphenEnd):d>63&&c(i.diagnoses.rfc5322LabelTooLong),m=!1,d=0,++p,h.domains[p]="",f.domain+=_;break;case"[":0===f.domain.length?(m=!0,++d,u.stack.push(u.now),u.now=i.components.literal,f.domain+=_,h.domains[p]+=_,f.literal=""):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(b===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"	":0===d?c(0===p?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(c(i.diagnoses.cfwsFWS),m=!0),u.stack.push(u.now),u.now=i.components.contextFWS,l=_;break;default:if(m)switch(u.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:c(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}v=_.charCodeAt(0),y=!1,33>v||v>126||i.specials(v)?c(i.diagnoses.errExpectingATEXT):"-"===_?(0===d&&c(i.diagnoses.errDomainHyphenStart),y=!0):(48>v||v>122||v>57&&65>v||v>90&&97>v)&&c(i.diagnoses.rfc5322Domain),f.domain+=_,h.domains[p]+=_,++d}break;case i.components.literal:switch(_){case"]":if(o<i.categories.deprecated){var A=-1,x=f.literal,E=i.regex.ipV4.exec(x);if(E&&(A=E.index,0!==A&&(x=x.slice(0,A)+"0:0")),0===A)c(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==x.slice(0,5).toLowerCase())c(i.diagnoses.rfc5322DomainLiteral);else{var k=x.slice(5),S=i.maxIPv6Groups,j=k.split(":");A=k.indexOf("::"),~A?A!==k.lastIndexOf("::")?c(i.diagnoses.rfc5322IPv62x2xColon):((0===A||A===k.length-2)&&++S,j.length>S?c(i.diagnoses.rfc5322IPv6MaxGroups):j.length===S&&c(i.diagnoses.deprecatedIPv6)):j.length!==S&&c(i.diagnoses.rfc5322IPv6GroupCount),c(":"===k[0]&&":"!==k[1]?i.diagnoses.rfc5322IPv6ColonStart:":"===k[k.length-1]&&":"!==k[k.length-2]?i.diagnoses.rfc5322IPv6ColonEnd:i.checkIpV6(j)?i.diagnoses.rfc5321AddressLiteral:i.diagnoses.rfc5322IPv6BadCharacter)}}else c(i.diagnoses.rfc5322DomainLiteral);f.domain+=_,h.domains[p]+=_,++d,u.prev=u.now,u.now=u.stack.pop();break;case"\\":c(i.diagnoses.rfc5322DomainLiteralOBSDText),u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(b===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"	":c(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,l=_;break;default:if(v=_.charCodeAt(0),v>127||0===v||"["===_){c(i.diagnoses.errExpectingDTEXT);break}(33>v||127===v)&&c(i.diagnoses.rfc5322DomainLiteralOBSDText),f.literal+=_,f.domain+=_,h.domains[p]+=_,++d}break;case i.components.contextQuotedString:switch(_){case"\\":u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(b===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case"	":f.local+=" ",h.locals[p]+=" ",++d,c(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,l=_;break;case'"':f.local+=_,h.locals[p]+=_,++d,u.prev=u.now,u.now=u.stack.pop();break;default:v=_.charCodeAt(0),v>127||0===v||10===v?c(i.diagnoses.errExpectingQTEXT):(32>v||127===v)&&c(i.diagnoses.deprecatedQTEXT),f.local+=_,h.locals[p]+=_,++d}break;case i.components.contextQuotedPair:switch(v=_.charCodeAt(0),v>127?c(i.diagnoses.errExpectingQPair):(31>v&&9!==v||127===v)&&c(i.diagnoses.deprecatedQP),u.prev=u.now,u.now=u.stack.pop(),_="\\"+_,u.now){case i.components.contextComment:break;case i.components.contextQuotedString:f.local+=_,h.locals[p]+=_,d+=2;break;case i.components.literal:f.domain+=_,h.domains[p]+=_,d+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+u.now)}break;case i.components.contextComment:switch(_){case"(":u.stack.push(u.now),u.now=i.components.contextComment;break;case")":u.prev=u.now,u.now=u.stack.pop();break;case"\\":u.stack.push(u.now),u.now=i.components.contextQuotedPair;break;case"\r":if(b===++w||"\n"!==e[w]){c(i.diagnoses.errCRNoLF);break}case" ":case"	":c(i.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=i.components.contextFWS,l=_;break;default:if(v=_.charCodeAt(0),v>127||0===v||10===v){c(i.diagnoses.errExpectingCTEXT);break}(32>v||127===v)&&c(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===l){if("\r"===_){c(i.diagnoses.errFWSCRLFx2);break}++g>1?c(i.diagnoses.deprecatedFWS):g=1}switch(_){case"\r":(b===++w||"\n"!==e[w])&&c(i.diagnoses.errCRNoLF);break;case" ":case"	":break;default:"\r"===l&&c(i.diagnoses.errFWSCRLFEnd),g=0,u.prev=u.now,u.now=u.stack.pop(),--w}l=_;break;default:throw new Error("unknown context: "+u.now)}if(o>i.categories.rfc5322)break}if(o<i.categories.rfc5322)if(u.now===i.components.contextQuotedString)c(i.diagnoses.errUnclosedQuotedString);else if(u.now===i.components.contextQuotedPair)c(i.diagnoses.errBackslashEnd);else if(u.now===i.components.contextComment)c(i.diagnoses.errUnclosedComment);else if(u.now===i.components.literal)c(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===_)c(i.diagnoses.errFWSCRLFEnd);else if(0===f.domain.length)c(i.diagnoses.errNoDomain);else if(0===d)c(i.diagnoses.errDotEnd);else if(y)c(i.diagnoses.errDomainHyphenEnd);else if(f.domain.length>255)c(i.diagnoses.rfc5322DomainTooLong);else if(f.local.length+f.domain.length+1>254)c(i.diagnoses.rfc5322TooLong);else if(d>63)c(i.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&h.domains.length<t.minDomainAtoms)c(i.diagnoses.errDomainTooShort);else if(t.tldWhitelist||t.tldBlacklist){var I=h.domains[p];i.validDomain(I,t)||c(i.diagnoses.errUnknownTLD)}var O=!1,T=!1,D=function(){if(!O&&o<i.categories.dnsWarn){var e=h.domains[p].charCodeAt(0);57>=e?c(i.diagnoses.rfc5321TLDNumeric):0===p&&c(i.diagnoses.rfc5321TLD)}s>o&&(o=i.diagnoses.valid);var t=a?o:o<i.defaultThreshold;return r&&(T?r(t):i.defer(r.bind(null,t))),t};if(!(t.checkDNS&&o<i.categories.dnsWarn)){var R=D();return T=!0,R}!function(){0===p&&(f.domain+=".");var e=f.domain;n.resolveMx(e,function(t,r){if(t&&t.code!==n.NODATA)return c(i.diagnoses.dnsWarnNoRecord),D();if(r&&r.length)return O=!0,D();var a=3,s=!1;c(i.diagnoses.dnsWarnNoMXRecord);var o=function(e,t){return s?void 0:(--a,t&&t.length?(s=!0,D()):void(0===a&&(c(i.diagnoses.dnsWarnNoRecord),s=!0,D())))};n.resolveCname(e,o),n.resolve4(e,o),n.resolve6(e,o)}),T=!0}()},t.diagnoses=i.validate.diagnoses=function(){for(var e={},t=Object.keys(i.diagnoses),r=0;r<t.length;++r){var n=t[r];e[n]=i.diagnoses[n]}return e}()},function(e,t,r){"use strict";var n=r(24),i={Uri:{createUriRegex:function(e){var t=n.scheme;return e&&(t="(?:"+e+")"),new RegExp("^"+t+":"+n.hierPart+"(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")}}};e.exports=i.Uri},function(e,t){"use strict";var r={rfc3986:{}};r.generate=function(){var e="|",t="0-9",n="["+t+"]",i="a-zA-Z",a="["+i+"]";r.rfc3986.cidr=n+e+"[1-2]"+n+e+"3[0-2]";var s=t+"A-Fa-f",o="["+s+"]",c=i+t+"-\\._~",u="!\\$&'\\(\\)\\*\\+,;=",l="%"+s,f=c+l+u+":@",h="["+f+"]",p="0?",d="(?:"+p+p+n+e+p+"[1-9]"+n+e+"1"+n+n+e+"2[0-4]"+n+e+"25[0-5])";r.rfc3986.IPv4address="(?:"+d+"\\.){3}"+d;var g=o+"{1,4}",v="(?:"+g+":"+g+"|"+r.rfc3986.IPv4address+")",y="(?:"+g+":){6}"+v,m="::(?:"+g+":){5}"+v,b=g+"::(?:"+g+":){4}"+v,_="(?:"+g+":){0,1}"+g+"::(?:"+g+":){3}"+v,w="(?:"+g+":){0,2}"+g+"::(?:"+g+":){2}"+v,A="(?:"+g+":){0,3}"+g+"::"+g+":"+v,x="(?:"+g+":){0,4}"+g+"::"+v,E="(?:"+g+":){0,5}"+g+"::"+g,k="(?:"+g+":){0,6}"+g+"::";r.rfc3986.IPv6address="(?:"+y+e+m+e+b+e+_+e+w+e+A+e+x+e+E+e+k+")",r.rfc3986.IPvFuture="v"+o+"+\\.["+c+u+":]+",r.rfc3986.scheme=a+"["+i+t+"+-\\.]*";var S="["+c+l+u+":]*",j="\\[(?:"+r.rfc3986.IPv6address+e+r.rfc3986.IPvFuture+")\\]",I="["+c+l+u+"]{0,255}",O="(?:"+j+e+r.rfc3986.IPv4address+e+I+")",T=n+"*",D="(?:"+S+"@)?"+O+"(?::"+T+")?",R=h+"*",C=h+"+",P="(?:\\/"+R+")*",B="\\/(?:"+C+P+")?",L=C+P;r.rfc3986.hierPart="(?:\\/\\/"+D+P+e+B+e+L+")",r.rfc3986.query="["+f+"\\/\\?]*(?=#|$)",r.rfc3986.fragment="["+f+"\\/\\?]*"},r.generate(),e.exports=r.rfc3986},function(e,t,r){"use strict";var n=r(24),i={Ip:{cidrs:{required:"\\/(?:"+n.cidr+")",optional:"(?:\\/(?:"+n.cidr+"))?",forbidden:""},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};i.Ip.createIpRegex=function(e,t){for(var r=void 0,n=0;n<e.length;++n){var a=e[n];r||(r="^(?:"+i.Ip.versions[a]),r=r+"|"+i.Ip.versions[a]}return new RegExp(r+")"+i.Ip.cidrs[t]+"$")},e.exports=i.Ip},function(e,t,r){"use strict";var n=r(1),i=r(12),a=r(13),s=r(6),o={};o.Number=function(){n.call(this),this._type="number",this._invalids.add(1/0),this._invalids.add(-(1/0))},s.inherits(o.Number,n),o.compare=function(e,t){return function(r){var n=i.isRef(r),o="number"==typeof r&&!isNaN(r);return s.assert(o||n,"limit must be a number or reference"),this._test(e,r,function(i,s,o){var c=void 0;if(n){if(c=r(s.parent,o),"number"!=typeof c||isNaN(c))return a.create("number.ref",{ref:r.key},s,o)}else c=r;return t(i,c)?null:a.create("number."+e,{limit:c,value:i},s,o)})}},o.Number.prototype._base=function(e,t,r){var n={errors:null,value:e};if("string"==typeof e&&r.convert){var i=parseFloat(e);n.value=isNaN(i)||!isFinite(e)?NaN:i}var s="number"==typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&s){var o=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*o)/o}return n.errors=s?null:a.create("number.base",null,t,r),n},o.Number.prototype.min=o.compare("min",function(e,t){return e>=t}),o.Number.prototype.max=o.compare("max",function(e,t){return t>=e}),o.Number.prototype.greater=o.compare("greater",function(e,t){return e>t}),o.Number.prototype.less=o.compare("less",function(e,t){return t>e}),o.Number.prototype.multiple=function(e){return s.assert(s.isInteger(e),"multiple must be an integer"),s.assert(e>0,"multiple must be greater than 0"),this._test("multiple",e,function(t,r,n){return t%e===0?null:a.create("number.multiple",{multiple:e,value:t},r,n)})},o.Number.prototype.integer=function(){return this._test("integer",void 0,function(e,t,r){return s.isInteger(e)?null:a.create("number.integer",{value:e},t,r)})},o.Number.prototype.negative=function(){return this._test("negative",void 0,function(e,t,r){return 0>e?null:a.create("number.negative",{value:e},t,r)})},o.Number.prototype.positive=function(){return this._test("positive",void 0,function(e,t,r){return e>0?null:a.create("number.positive",{value:e},t,r)})},o.precisionRx=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,o.Number.prototype.precision=function(e){s.assert(s.isInteger(e),"limit must be an integer"),s.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,function(t,r,n){var i=t.toString().match(o.precisionRx),s=Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0);return e>=s?null:a.create("number.precision",{limit:e,value:t},r,n)});return t._flags.precision=e,t},e.exports=new o.Number},function(e,t,r){"use strict";var n=r(1),i=r(13),a=r(6),s={};s.Boolean=function(){n.call(this),this._type="boolean"},a.inherits(s.Boolean,n),s.Boolean.prototype._base=function(e,t,r){var n={value:e};if("string"==typeof e&&r.convert){var a=e.toLowerCase();n.value="true"===a||"yes"===a||"on"===a?!0:"false"===a||"no"===a||"off"===a?!1:e}return n.errors="boolean"==typeof n.value?null:i.create("boolean.base",null,t,r),n},e.exports=new s.Boolean},function(e,t,r){"use strict";var n=r(6),i=r(1),a=r(15),s=r(12),o=r(13),c={};c.Alternatives=function(){i.call(this),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]},n.inherits(c.Alternatives,i),c.Alternatives.prototype._base=function(e,t,r){for(var n=[],i=0;i<this._inner.matches.length;++i){var a=this._inner.matches[i],s=a.schema;if(!s){var c=a.is._validate(a.ref(t.parent,r),null,r,t.parent).errors;if(s=c?a.otherwise:a.then,!s)continue}var u=s._validate(e,t,r);if(!u.errors)return u;n=n.concat(u.errors)}return{errors:n.length?n:o.create("alternatives.base",null,t,r)}},c.Alternatives.prototype["try"]=function(){var e=n.flatten(Array.prototype.slice.call(arguments));n.assert(e.length,"Cannot add other alternatives without at least one schema");for(var t=this.clone(),r=0;r<e.length;++r){var i=a.schema(e[r]);i._refs.length&&(t._refs=t._refs.concat(i._refs)),t._inner.matches.push({schema:i})}return t},c.Alternatives.prototype.when=function(e,t){n.assert(s.isRef(e)||"string"==typeof e,"Invalid reference:",e),n.assert(t,"Missing options"),n.assert("object"==typeof t,"Invalid options"),n.assert(t.hasOwnProperty("is"),'Missing "is" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var r=this.clone(),i=a.schema(t.is);null!==t.is&&t.is.isJoi||(i=i.required());var o={ref:a.ref(e),is:i,then:void 0!==t.then?a.schema(t.then):void 0,otherwise:void 0!==t.otherwise?a.schema(t.otherwise):void 0};return s.push(r._refs,o.ref),r._refs=r._refs.concat(o.is._refs),o.then&&o.then._refs&&(r._refs=r._refs.concat(o.then._refs)),o.otherwise&&o.otherwise._refs&&(r._refs=r._refs.concat(o.otherwise._refs)),r._inner.matches.push(o),r},c.Alternatives.prototype.describe=function(){for(var e=i.prototype.describe.call(this),t=[],r=0;r<this._inner.matches.length;++r){var n=this._inner.matches[r];if(n.schema)t.push(n.schema.describe());else{var a={ref:n.ref.toString(),is:n.is.describe()};n.then&&(a.then=n.then.describe()),n.otherwise&&(a.otherwise=n.otherwise.describe()),t.push(a)}}return e.alternatives=t,e},e.exports=new c.Alternatives},function(e,t,r){"use strict";var n=r(6),i=r(30),a=r(1),s=r(15),o=r(13),c={};c.Object=function(){a.call(this),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]},n.inherits(c.Object,a),c.Object.prototype._base=function(e,t,r){var i=e,a=[],s=function(){return{value:i,errors:a.length?a:null}};if("string"==typeof e&&r.convert)try{e=JSON.parse(e)}catch(u){}var l=this._flags.func?"function":"object";if(!e||typeof e!==l||Array.isArray(e))return a.push(o.create(l+".base",null,t,r)),s();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,s();if(i===e){"object"===l?i=Object.create(Object.getPrototypeOf(e)):(i=function(){return e.apply(this,arguments)},i.prototype=n.clone(e.prototype));for(var f=Object.keys(e),h=0;h<f.length;++h)i[f[h]]=e[f[h]]}else i=e;for(var p={},h=0;h<this._inner.renames.length;++h){var d=this._inner.renames[h];if(!d.options.ignoreUndefined||void 0!==i[d.from]){if(!d.options.multiple&&p[d.to]&&(a.push(o.create("object.rename.multiple",{from:d.from,to:d.to},t,r)),r.abortEarly))return s();if(Object.prototype.hasOwnProperty.call(i,d.to)&&!d.options.override&&!p[d.to]&&(a.push(o.create("object.rename.override",{from:d.from,to:d.to},t,r)),r.abortEarly))return s();void 0===i[d.from]?delete i[d.to]:i[d.to]=i[d.from],p[d.to]=!0,d.options.alias||delete i[d.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return s();var g=n.mapToObject(Object.keys(i));if(this._inner.children)for(var h=0;h<this._inner.children.length;++h){var v=this._inner.children[h],y=v.key,d=i[y];delete g[y];var m={key:y,path:(t.path||"")+(t.path&&y?".":"")+y,parent:i,reference:t.reference},b=v.schema._validate(d,m,r);if(b.errors&&(a.push(o.create("object.child",{key:y,reason:b.errors},m,r)),r.abortEarly))return s();v.schema._flags.strip||void 0===b.value&&b.value!==d?delete i[y]:void 0!==b.value&&(i[y]=b.value)}var _=Object.keys(g);if(_.length&&this._inner.patterns.length){for(var h=0;h<_.length;++h)for(var y=_[h],w=0;w<this._inner.patterns.length;++w){var A=this._inner.patterns[w];if(A.regex.test(y)){delete g[y];var d=i[y],m={key:y,path:(t.path?t.path+".":"")+y,parent:i,reference:t.reference},b=A.rule._validate(d,m,r);if(b.errors&&(a.push(o.create("object.child",{key:y,reason:b.errors},m,r)),r.abortEarly))return s();void 0!==b.value&&(i[y]=b.value)}}_=Object.keys(g)}if((this._inner.children||this._inner.patterns.length)&&_.length){if(r.stripUnknown||r.skipFunctions){for(var h=0;h<_.length;++h){var y=_[h];r.stripUnknown?(delete i[y],delete g[y]):"function"==typeof i[y]&&delete g[y]}_=Object.keys(g)}if(_.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown))for(var h=0;h<_.length;++h)a.push(o.create("object.allowUnknown",null,{key:_[h],path:t.path+(t.path?".":"")+_[h]},r))}for(var h=0;h<this._inner.dependencies.length;++h){var x=this._inner.dependencies[h],E=c[x.type](null!==x.key&&e[x.key],x.peers,i,{key:x.key,path:(t.path||"")+(x.key?"."+x.key:"")},r);if(E&&(a.push(E),r.abortEarly))return s()}return s()},c.Object.prototype._func=function(){var e=this.clone();return e._flags.func=!0,e},c.Object.prototype.keys=function(e){n.assert(null===e||void 0===e||"object"==typeof e,"Object schema must be a valid object"),n.assert(!e||!e.isJoi,"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var r=Object.keys(e);if(!r.length)return t._inner.children=[],t;var a=new i;if(t._inner.children)for(var o=0;o<t._inner.children.length;++o){var c=t._inner.children[o];-1===r.indexOf(c.key)&&a.add(c,{after:c._refs,group:c.key})}for(var o=0;o<r.length;++o){var u=r[o],c=e[u];try{var l=s.schema(c);a.add({key:u,schema:l},{after:l._refs,group:u})}catch(f){throw f.hasOwnProperty("path")?f.path=u+"."+f.path:f.path=u,f}}return t._inner.children=a.nodes,t},c.Object.prototype.unknown=function(e){var t=this.clone();return t._flags.allowUnknown=e!==!1,t},c.Object.prototype.length=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return Object.keys(t).length===e?null:o.create("object.length",{limit:e},r,n)})},c.Object.prototype.min=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return Object.keys(t).length>=e?null:o.create("object.min",{limit:e},r,n)})},c.Object.prototype.max=function(e){return n.assert(n.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return Object.keys(t).length<=e?null:o.create("object.max",{limit:e},r,n)})},c.Object.prototype.pattern=function(e,t){n.assert(e instanceof RegExp,"Invalid regular expression"),n.assert(void 0!==t,"Invalid rule"),e=new RegExp(e.source,e.ignoreCase?"i":void 0);try{t=s.schema(t)}catch(r){throw r.hasOwnProperty("path")&&(r.message=r.message+"("+r.path+")"),r}var i=this.clone();return i._inner.patterns.push({regex:e,rule:t}),i},c.Object.prototype["with"]=function(e,t){return this._dependency("with",e,t)},c.Object.prototype.without=function(e,t){return this._dependency("without",e,t)},c.Object.prototype.xor=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("xor",null,e)},c.Object.prototype.or=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("or",null,e)},c.Object.prototype.and=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("and",null,e)},c.Object.prototype.nand=function(){var e=n.flatten(Array.prototype.slice.call(arguments));return this._dependency("nand",null,e)},c.Object.prototype.requiredKeys=function(e){return e=n.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"required")},c.Object.prototype.optionalKeys=function(e){return e=n.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(e,"optional")},c.renameDefaults={alias:!1,multiple:!1,override:!1},c.Object.prototype.rename=function(e,t,r){n.assert("string"==typeof e,"Rename missing the from argument"),n.assert("string"==typeof t,"Rename missing the to argument"),n.assert(t!==e,"Cannot rename key to same name:",e);for(var i=0;i<this._inner.renames.length;++i)n.assert(this._inner.renames[i].from!==e,"Cannot rename the same key multiple times");var a=this.clone();return a._inner.renames.push({from:e,to:t,options:n.applyToDefaults(c.renameDefaults,r||{})}),a},c.groupChildren=function(e){e.sort();for(var t={},r=0;r<e.length;++r){var i=e[r];n.assert("string"==typeof i,"children must be strings");var a=i.split(".")[0],s=t[a]=t[a]||[];s.push(i.substring(a.length+1))}return t},c.Object.prototype.applyFunctionToChildren=function(e,t,r,i){e=[].concat(e),n.assert(e.length>0,"expected at least one children");var a=c.groupChildren(e),s=void 0;if(""in a?(s=this[t].apply(this,r),delete a[""]):s=this.clone(),s._inner.children){i=i?i+".":"";for(var o=0;o<s._inner.children.length;++o){var u=s._inner.children[o],l=a[u.key];l&&(s._inner.children[o]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(l,t,r,i+u.key)},delete a[u.key])}}var f=Object.keys(a);return n.assert(0===f.length,"unknown key(s)",f.join(", ")),s},c.Object.prototype._dependency=function(e,t,r){r=[].concat(r);for(var i=0;i<r.length;++i)n.assert("string"==typeof r[i],e,"peers must be a string or array of strings");var a=this.clone();return a._inner.dependencies.push({type:e,key:t,peers:r}),a},c["with"]=function(e,t,r,n,i){if(void 0===e)return null;for(var a=0;a<t.length;++a){var s=t[a];if(!Object.prototype.hasOwnProperty.call(r,s)||void 0===r[s])return o.create("object.with",{peer:s},n,i)}return null},c.without=function(e,t,r,n,i){if(void 0===e)return null;for(var a=0;a<t.length;++a){var s=t[a];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return o.create("object.without",{peer:s},n,i)}return null},c.xor=function(e,t,r,n,i){for(var a=[],s=0;s<t.length;++s){var c=t[s];Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]&&a.push(c)}return 1===a.length?null:0===a.length?o.create("object.missing",{peers:t},n,i):o.create("object.xor",{peers:t},n,i)},c.or=function(e,t,r,n,i){for(var a=0;a<t.length;++a){var s=t[a];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return null}return o.create("object.missing",{peers:t},n,i)},c.and=function(e,t,r,n,i){for(var a=[],s=[],c=t.length,u=0;c>u;++u){var l=t[u];Object.prototype.hasOwnProperty.call(r,l)&&void 0!==r[l]?s.push(l):a.push(l)}var f=a.length===c||s.length===c;return f?null:o.create("object.and",{present:s,missing:a},n,i)},c.nand=function(e,t,r,i,a){for(var s=[],c=0;c<t.length;++c){var u=t[c];Object.prototype.hasOwnProperty.call(r,u)&&void 0!==r[u]&&s.push(u)}var l=n.clone(t),f=l.splice(0,1)[0],h=s.length===t.length;return h?o.create("object.nand",{main:f,peers:l},i,a):null},c.Object.prototype.describe=function(e){var t=a.prototype.describe.call(this);if(this._inner.children&&!e){t.children={};for(var r=0;r<this._inner.children.length;++r){var i=this._inner.children[r];t.children[i.key]=i.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=n.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var r=0;r<this._inner.patterns.length;++r){var s=this._inner.patterns[r];t.patterns.push({regex:s.regex.toString(),rule:s.rule.describe()})}}return t;
},c.Object.prototype.assert=function(e,t,r){e=s.ref(e),n.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";var i=void 0;try{i=s.schema(t)}catch(a){throw a.hasOwnProperty("path")&&(a.message=a.message+"("+a.path+")"),a}var c=e.path[e.path.length-1],u=e.path.join(".");return this._test("assert",{cast:i,ref:e},function(t,a,s){var l=i._validate(e(t),null,s,t);if(!l.errors)return null;var f=n.merge({},a);return f.key=c,f.path=u,o.create("object.assert",{ref:f.path,message:r},f,s)})},c.Object.prototype.type=function(e,t){return n.assert("function"==typeof e,"type must be a constructor function"),t=t||e.name,this._test("type",t,function(r,n,i){return r instanceof e?null:o.create("object.type",{type:t},n,i)})},e.exports=new c.Object},function(e,t,r){"use strict";var n=r(6),i={};t=e.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(e,t){var r=this;t=t||{};var i=[].concat(t.before||[]),a=[].concat(t.after||[]),s=t.group||"?",o=t.sort||0;n.assert(-1===i.indexOf(s),"Item cannot come before itself:",s),n.assert(-1===i.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===a.indexOf(s),"Item cannot come after itself:",s),n.assert(-1===a.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach(function(e,t){var n={seq:r._items.length,sort:o,before:i,after:a,group:s,node:e};r._items.push(n)});var c=this._sort();return n.assert(!c,"item","?"!==s?"added into group "+s:"","created a dependencies error"),this.nodes},i.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var r=e[t];if(r)for(var a=0;a<r._items.length;++a){var s=n.shallow(r._items[a]);this._items.push(s)}}this._items.sort(i.mergeSort);for(var t=0;t<this._items.length;++t)this._items[t].seq=t;var o=this._sort();return n.assert(!o,"merge created a dependencies error"),this.nodes},i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},i.Topo.prototype._sort=function(){for(var e={},t={},r={},n=0;n<this._items.length;++n){var i=this._items[n],a=i.seq,s=i.group;e[s]=e[s]||[],e[s].push(a),t[a]=i.before;for(var o=i.after,c=0;c<o.length;++c)r[o[c]]=(r[o[c]]||[]).concat(a)}for(var u=Object.keys(t),n=0;n<u.length;++n){for(var l=u[n],f=[],h=Object.keys(t[l]),c=0;c<h.length;++c){var s=t[l][h[c]];e[s]=e[s]||[];for(var p=0;p<e[s].length;++p)f.push(e[s][p])}t[l]=f}for(var d=Object.keys(r),n=0;n<d.length;++n){var s=d[n];if(e[s])for(var c=0;c<e[s].length;++c){var l=e[s][c];t[l]=t[l].concat(r[s])}}var g=void 0,v={};u=Object.keys(t);for(var n=0;n<u.length;++n){var l=u[n];g=t[l];for(var c=0;c<g.length;++c)v[g[c]]=(v[g[c]]||[]).concat(l)}for(var y={},m=[],n=0;n<this._items.length;++n){var b=n;if(v[n]){b=null;for(var c=0;c<this._items.length;++c)if(y[c]!==!0){v[c]||(v[c]=[]);for(var _=v[c].length,w=0,p=0;_>p;++p)m.indexOf(v[c][p])>=0&&++w;if(w===_){b=c;break}}}null!==b&&(b=b.toString(),y[b]=!0,m.push(b))}if(m.length!==this._items.length)return new Error("Invalid dependencies");for(var A={},n=0;n<this._items.length;++n){var i=this._items[n];A[i.seq]=i}var x=[];this._items=m.map(function(e){var t=A[e];return x.push(t.node),t}),this.nodes=x}},function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(13),s=r(6),o={};o.fastSplice=function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length},o.Array=function(){n.call(this),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1},s.inherits(o.Array,n),o.Array.prototype._base=function(e,t,r){var n={value:e};if("string"==typeof e&&r.convert)try{var i=JSON.parse(e);Array.isArray(i)&&(n.value=i)}catch(s){}var c=Array.isArray(n.value),u=c;if(r.convert&&this._flags.single&&!c&&(n.value=[n.value],c=!0),!c)return n.errors=a.create("array.base",null,t,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||!this._flags.sparse)&&(u&&(n.value=n.value.slice(0)),n.errors=o.checkItems.call(this,n.value,u,t,r),n.errors&&u&&r.convert&&this._flags.single)){var l=n.errors;n.value=[n.value],n.errors=o.checkItems.call(this,n.value,u,t,r),n.errors&&(n.errors=l,n.value=n.value[0])}return n},o.checkItems=function(e,t,r,n){for(var i=[],s=void 0,c=this._inner.requireds.slice(),u=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(c),f=e.length,h=0;f>h;++h){s=!1;var p=e[h],d=!1,g={key:h,path:(r.path?r.path+".":"")+h,parent:e,reference:r.reference},v=void 0;if(this._flags.sparse||void 0!==p){for(var y=0;y<this._inner.exclusions.length;++y)if(v=this._inner.exclusions[y]._validate(p,g,{}),!v.errors){if(i.push(a.create(t?"array.excludes":"array.excludesSingle",{pos:h,value:p},{key:r.key,path:g.path},n)),s=!0,n.abortEarly)return i;break}if(!s){if(this._inner.ordereds.length){if(u.length>0){var m=u.shift();if(v=m._validate(p,g,n),v.errors){if(i.push(a.create("array.ordered",{pos:h,reason:v.errors,value:p},{key:r.key,path:g.path},n)),n.abortEarly)return i}else m._flags.strip?(o.fastSplice(e,h),--h,--f):e[h]=v.value;continue}if(!this._inner.items.length){if(i.push(a.create("array.orderedLength",{pos:h,limit:this._inner.ordereds.length},{key:r.key,path:g.path},n)),n.abortEarly)return i;continue}}for(var b=[],_=c.length,y=0;_>y;++y)if(v=b[y]=c[y]._validate(p,g,n),!v.errors){e[h]=v.value,d=!0,o.fastSplice(c,y),--y,--_;break}if(!d){_=l.length;for(var y=0;_>y;++y){var w=l[y],A=c.indexOf(w);if(-1!==A)v=b[A];else if(v=w._validate(p,g,n),!v.errors){w._flags.strip?(o.fastSplice(e,h),--h,--f):e[h]=v.value,d=!0;break}if(1===_){if(n.stripUnknown){o.fastSplice(e,h),--h,--f,d=!0;break}if(i.push(a.create(t?"array.includesOne":"array.includesOneSingle",{pos:h,reason:v.errors,value:p},{key:r.key,path:g.path},n)),s=!0,n.abortEarly)return i;break}}if(!s&&this._inner.inclusions.length&&!d){if(n.stripUnknown){o.fastSplice(e,h),--h,--f;continue}if(i.push(a.create(t?"array.includes":"array.includesSingle",{pos:h,value:p},{key:r.key,path:g.path},n)),n.abortEarly)return i}}}}else if(i.push(a.create("array.sparse",null,{key:r.key,path:g.path},n)),n.abortEarly)return i}return c.length&&o.fillMissedErrors(i,c,r,n),u.length&&o.fillOrderedErrors(i,u,r,n),i.length?i:null},o.fillMissedErrors=function(e,t,r,n){for(var i=[],o=0,c=0;c<t.length;++c){var u=s.reach(t[c],"_settings.language.label");u?i.push(u):++o}i.length?o?e.push(a.create("array.includesRequiredBoth",{knownMisses:i,unknownMisses:o},{key:r.key,path:r.patk},n)):e.push(a.create("array.includesRequiredKnowns",{knownMisses:i},{key:r.key,path:r.path},n)):e.push(a.create("array.includesRequiredUnknowns",{unknownMisses:o},{key:r.key,path:r.path},n))},o.fillOrderedErrors=function(e,t,r,n){for(var i=[],a=0;a<t.length;++a){var c=s.reach(t[a],"_flags.presence");"required"===c&&i.push(t[a])}i.length&&o.fillMissedErrors(e,i,r,n)},o.Array.prototype.describe=function(){var e=n.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var t=0;t<this._inner.items.length;++t)e.items.push(this._inner.items[t].describe())}return e},o.Array.prototype.items=function(){var e=this.clone();return s.flatten(Array.prototype.slice.call(arguments)).forEach(function(t,r){try{t=i.schema(t)}catch(n){throw n.hasOwnProperty("path")?n.path=r+"."+n.path:n.path=r,n.message=n.message+"("+n.path+")",n}e._inner.items.push(t),"required"===t._flags.presence?e._inner.requireds.push(t):"forbidden"===t._flags.presence?e._inner.exclusions.push(t.optional()):e._inner.inclusions.push(t)}),e},o.Array.prototype.ordered=function(){var e=this.clone();return s.flatten(Array.prototype.slice.call(arguments)).forEach(function(t,r){try{t=i.schema(t)}catch(n){throw n.hasOwnProperty("path")?n.path=r+"."+n.path:n.path=r,n.message=n.message+"("+n.path+")",n}e._inner.ordereds.push(t)}),e},o.Array.prototype.min=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return t.length>=e?null:a.create("array.min",{limit:e,value:t},r,n)})},o.Array.prototype.max=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return t.length<=e?null:a.create("array.max",{limit:e,value:t},r,n)})},o.Array.prototype.length=function(e){return s.assert(s.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return t.length===e?null:a.create("array.length",{limit:e,value:t},r,n)})},o.Array.prototype.unique=function(){return this._test("unique",void 0,function(e,t,r){for(var n={string:{},number:{},undefined:{},"boolean":{},object:[],"function":[]},i=0;i<e.length;++i){var o=e[i],c=typeof o,u=n[c];if(u)if(Array.isArray(u)){for(var l=0;l<u.length;++l)if(s.deepEqual(u[l],o))return a.create("array.unique",{pos:i,value:o},t,r);u.push(o)}else{if(u[o])return a.create("array.unique",{pos:i,value:o},t,r);u[o]=!0}}})},o.Array.prototype.sparse=function(e){var t=this.clone();return t._flags.sparse=void 0===e?!0:!!e,t},o.Array.prototype.single=function(e){var t=this.clone();return t._flags.single=void 0===e?!0:!!e,t},e.exports=new o.Array},function(e,t,r){(function(t){"use strict";var n=r(1),i=r(13),a=r(6),s={};s.Binary=function(){n.call(this),this._type="binary"},a.inherits(s.Binary,n),s.Binary.prototype._base=function(e,r,n){var a={value:e};if("string"==typeof e&&n.convert)try{var s=new t(e,this._flags.encoding);a.value=s}catch(o){}return a.errors=t.isBuffer(a.value)?null:i.create("binary.base",null,r,n),a},s.Binary.prototype.encoding=function(e){a.assert(t.isEncoding(e),"Invalid encoding:",e);var r=this.clone();return r._flags.encoding=e,r},s.Binary.prototype.min=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,function(t,r,n){return t.length>=e?null:i.create("binary.min",{limit:e,value:t},r,n)})},s.Binary.prototype.max=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,function(t,r,n){return t.length<=e?null:i.create("binary.max",{limit:e,value:t},r,n)})},s.Binary.prototype.length=function(e){return a.assert(a.isInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,function(t,r,n){return t.length===e?null:i.create("binary.length",{limit:e,value:t},r,n)})},e.exports=new s.Binary}).call(t,r(2).Buffer)}])});
//# sourceMappingURL=joi-browser.min.js.map